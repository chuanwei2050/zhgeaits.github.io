---
layout: post
title:  "轻量级分布式版本控制器Hg/Mercurial教程与学习笔记!"
date:   2011-08-02 11:00:03
categories: other
type: other
---

当时异维工作室使用的就是这个版本控制器，我在星辰刚学了使用svn，对于什么是scm，版本控制都不懂就要开始使用分布式仓库的版本控制器，是非常困难的。第一次使用，是那个碳资产系统上。唉，回不去的光阴啊。

下面是当年写给工作室的教程：

**什么是Hg**

Hg是Mercurial的缩写，就是一个调用程序，是为了命令更加方便而已，就像svn就是subversion一样。Mercurial 是一个跨平台的分布式版本控制软件。Mercurial主要由Python语言实现，不过也包含一个用C实现的二进制比较工具。

**优点**
* 更轻松的管理。  
传统的版本控制系统使用集中式的 repository，一些和 repository相关的管理就只能由管理员一个人进行。由于采用了分布式的模型，Mercurial 中就没有这样的困扰，每个用户管理自己的 repository，管理员只需协调同步这些repository。

* 更健壮的系统。  
分布式系统比集中式的单服务器系统更健壮，单服务器系统一旦服务器出现问题整个系统就不能运行了，分布式系统通常不会因为一两个节点而受到影响。

* 对网络的依赖性更低。  
由于同步可以放在任意时刻进行，Mercurial 甚至可以离线进行管理，只需在有网络连接时同步。

**安装**

一个快捷的方法：sudo apt-get install mercurial(版本是1.4太老了，下面介绍编译安装)

**我们的工作流**

工作室服务器作为中央仓库，使用scm来创建托管项目，开发人员clone项目到本地，当开发者完成一些功能或者修复一些bug以后，提交更改集到本地仓库，这时，我们是不需要连接上服务器的。然后连接工作室的服务器，拉取中央的head版本到本地，并且更新合并，最后提交本地仓库，再推送到中央服务器。尽量不要让分支太长，也就是要尽早合并，否则你会很egg painful。
